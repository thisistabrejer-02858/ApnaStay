<% layout('layouts/boilerplate') %>

<style>

.wishlist-card {
  border-radius: 15px;
  overflow: hidden;
  transition: 0.3s ease;
}

.wishlist-card:hover {
  transform: translateY(-5px);
}

.wishlist-img {
  height: 250px;
  object-fit: cover;
}

/* Mobile fix */
@media (max-width: 576px) {
  .wishlist-img {
    height: 200px;
  }
}
body.dark-theme .wishlist-card {
  background: #1f1f1f;
  border: 1px solid #2a2a2a;
}
</style>
<div class="container mt-4">

  <h2 class="mb-4">My Wishlist ❤️</h2>

  <% if (wishlist.length === 0) { %>
    <p class="text-muted">Your wishlist is empty.</p>
  <% } %>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <% for(let listing of wishlist) { %>
      <div class="col">
        <div class="card wishlist-card shadow-sm h-100">

          <a href="/listings/<%= listing._id %>">
            <img 
              src="<%= listing.images.url %>" 
              class="card-img-top wishlist-img"
              alt="listing image"
            >
          </a>

          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= listing.title %></h5>
            <p class="mb-1">₹<%= listing.price %>/night</p>
            <p class="wishlist-country mb-3"><%= listing.country %></p>

            <a href="/listings/<%= listing._id %>" 
               class="btn btn-outline-primary btn-sm mt-auto">
               <b>View Details</b>
            </a>
          </div>

        </div>
      </div>
    <% } %>
  </div>

</div>